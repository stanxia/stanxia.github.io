<!DOCTYPE html>
<html>
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.2.6 -->

    <!-- Title -->
    
    <title>
        
            几种常见的加密方式 | 
        
        小世界，大梦想
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="http://wx2.sinaimg.cn/mw1024/6aae3cf3gy1fcur6pcgo6j20lf0f2175.jpg">
    <link rel="icon" sizes="192x192" href="http://wx2.sinaimg.cn/mw1024/6aae3cf3gy1fcur6pcgo6j20lf0f2175.jpg">
    <link rel="apple-touch-icon" href="http://wx2.sinaimg.cn/mw1024/6aae3cf3gy1fcur6pcgo6j20lf0f2175.jpg">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="夏">
    <meta name="description" content="随便说说">
    <meta name="keywords" content="hive hadoop spark hbase hdfs mapreduce cluster">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="小世界，大梦想">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://stanxia.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="几种常见的加密方式 | 小世界，大梦想">
    <meta property="og:description" content="随便说说">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
    body, html {
        font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    }

    a {
        color: #00838F;
    }

    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #0097A7 !important;
    }

    /* Sidebar User Drop Down Menu Text Color */
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
        color: #0097A7 !important;
    }

    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
        color: #0097A7 !important;
    }

    .toTop {
        background: #757575 !important;
    }

    .material-layout .material-post>.material-nav,
    .material-layout .material-index>.material-nav,
    .material-nav a {
        color: #757575;
    }

    #scheme-Paradox .MD-burger-layer {
        background-color: #757575;
    }

    #scheme-Paradox #post-toc-trigger-btn {
        color: #757575;
    }

    .post-toc a:hover {
        color: #00838F;
        text-decoration: underline;
    }
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-image: url(http://wx3.sinaimg.cn/mw1024/6aae3cf3gy1fd47t38qv6j21kw0w0167.jpg);
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>


    <script src="/js/jquery.min.js"></script>

    <link rel="stylesheet" href="/css/highlight/solarized-white.css">

    <!-- UC Browser Compatible-->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write('<link rel="stylesheet" href="/css/uc.css">');
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#数据加密-Data-encryption"><span class="post-toc-number">1.</span> <span class="post-toc-text">数据加密(Data encryption)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常见加密方式"><span class="post-toc-number">2.</span> <span class="post-toc-text">常见加密方式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-Base64加密方式-可逆"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1  Base64加密方式(可逆)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#什么是Base64"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">什么是Base64</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#在bash中使用Base64"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">在bash中使用Base64:</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Base64编码原理"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">Base64编码原理</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Base64编码的说明"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">Base64编码的说明</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-散列函数"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2 散列函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#散列函数："><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">散列函数：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#单向散列函数："><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">单向散列函数：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#哈希碰撞："><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">哈希碰撞：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#密码散列函数："><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">密码散列函数：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-碰撞（计算机科学）"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">3 碰撞（计算机科学）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#碰撞："><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">碰撞：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-消息认证码"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">4 消息认证码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-彩虹表"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">5 彩虹表</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-暴力破解法"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">6 暴力破解法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#暴力破解法"><span class="post-toc-number">2.6.1.</span> <span class="post-toc-text">暴力破解法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#防护手段"><span class="post-toc-number">2.6.2.</span> <span class="post-toc-text">防护手段</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-MD5加密"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">7 MD5加密</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#MD5："><span class="post-toc-number">2.7.1.</span> <span class="post-toc-text">MD5：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#应用："><span class="post-toc-number">2.7.2.</span> <span class="post-toc-text">应用：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#算法："><span class="post-toc-number">2.7.3.</span> <span class="post-toc-text">算法：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#特点："><span class="post-toc-number">2.7.4.</span> <span class="post-toc-text">特点：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#bash中使用MD5"><span class="post-toc-number">2.7.5.</span> <span class="post-toc-text">bash中使用MD5</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#缺陷："><span class="post-toc-number">2.7.6.</span> <span class="post-toc-text">缺陷：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8-盐-密码学"><span class="post-toc-number">2.8.</span> <span class="post-toc-text">8 盐(密码学)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#加盐："><span class="post-toc-number">2.8.1.</span> <span class="post-toc-text">加盐：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#为什么加盐："><span class="post-toc-number">2.8.2.</span> <span class="post-toc-text">为什么加盐：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#实现原理："><span class="post-toc-number">2.8.3.</span> <span class="post-toc-text">实现原理：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#9-十六进制"><span class="post-toc-number">2.9.</span> <span class="post-toc-text">9 十六进制</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#10-SHA-1"><span class="post-toc-number">2.10.</span> <span class="post-toc-text">10 SHA-1</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#11-钥匙串加密方式"><span class="post-toc-number">2.11.</span> <span class="post-toc-text">11 钥匙串加密方式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#12-对称加密算法"><span class="post-toc-number">2.12.</span> <span class="post-toc-text">12 对称加密算法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#13-RSA加密-非对称加密算法-Secruty-framework系统库"><span class="post-toc-number">2.13.</span> <span class="post-toc-text">13 RSA加密(非对称加密算法)(Secruty.framework系统库)</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://wx1.sinaimg.cn/mw1024/6aae3cf3gy1fdhwztxa1jj21aw0klzqk.jpg)">
    
            <p class="article-headline-p">
                几种常见的加密方式
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>夏</strong>
        <span>3月 08, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC0UlEQVR42u3a207EMAwFwP3/n4ZXJLTtsd1CN5k+ob20GSNxiJ3X15bXCxsbGxsbGxsbG/uR7Fd8vfv8u7v9fOXdu78/k7+erxkbGxt7B/bJn/7DhR7D8iIewy5YMzY2NvYG7OPF5Y/Mv5VEVHLn4zVjY2NjY+cBMyliEmzY2NjY2Pexq5uHeXMKGxsbG7vXoLm2xX/fdggbGxt7N3Z10PuEn/9hvo2NjY39SPa1Vz70rcbPBWvDxsbGXpSdj2OrMZOEzfGzeo2qZi8NGxsb+8PZvQOOeZMoX+ikedTcgWFjY2Mvwa4OTfOwmQRS8sS8ZNjY2Nirsicj2HxTkT+lV9akcNjY2Nhrs3vNoGoszUvQ26JgY2Njr82+70B8od1TfDd/FjY2NvZu7ARWPXwzaQwlQ4WkcNjY2Ng7sCcx04ulJKIm5cPGxsbeh907WJMst7pVqB73qb6OjY2NvSp7sp3oNeurx3omvwZsbGzsHdiTbUl1NJtsWqohV2iNYWNjYy/KnvyLXz2OOVl6UvrC4UtsbGzsDdh3NPp7ByuTeBtNRbCxsbEXYld5vZFt8sRe+ZrjAWxsbOwPZ181ZJ0Mg/MrD7mTAMPGxsZeiN3bNuQRlW9p8gOdzZVjY2NjL82ehFNemt5Rm3yUe7I5wcbGxl6UnWMmZboq9kaDYWxsbOxF2fmxyF7Tp3rP/FvVDQk2Njb2quzCoLT6r/8dLf7igSFsbGzsHdjVdk+12XTBFmI8BsbGxsZem129eu2nXlmTYMtjFRsbG3tVdi8equExGTD0AhIbGxt7N/Z8oUk45YGUBFu1OYWNjY29A3vSyp+Mfqv3bJYDGxsbGzsYqeZxmI9sT2IpuBs2NjY2du+ozWR4nN/zjwIMGxsb+0PYeVMpX2h1idXPFAbP2NjY2EuzJ4PeXpspL3316E8hwLCxsbGXYO9zYWNjY2NjY2NjYz/m+gb1ICCCCWvGFwAAAABJRU5ErkJggg==">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/加密/">加密</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    <!-- Leancloud Views -->
        <a class="post_share-link" href="#">
            <li class="mdl-menu__item">
                <span id="/2017/03/08/几种常见的加密方式/" class="leancloud-views_num" data-flag-title="几种常见的加密方式">
     &nbsp;浏览量
</span>

            </li>
        </a>
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=几种常见的加密方式&url=https://stanxia.github.io//2017/03/08/几种常见的加密方式/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=几种常见的加密方式&url=https://stanxia.github.io//2017/03/08/几种常见的加密方式/index.html&via=夏" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://stanxia.github.io//2017/03/08/几种常见的加密方式/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://stanxia.github.io//2017/03/08/几种常见的加密方式/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=小世界，大梦想&title=几种常见的加密方式&summary=随便说说&pics=https://stanxia.github.iohttp://wx2.sinaimg.cn/mw1024/6aae3cf3gy1fcur6pcgo6j20lf0f2175.jpg&url=https://stanxia.github.io/2017/03/08/几种常见的加密方式/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="markdown-Github mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <script src="/assets/js/DPlayer.min.js"> </script><h2 id="数据加密-Data-encryption"><a href="#数据加密-Data-encryption" class="headerlink" title="数据加密(Data encryption)"></a>数据加密(Data encryption)</h2><p>数据加密，是一门历史悠久的技术，指通过<a href="http://baike.baidu.com/view/155969.htm" target="_blank" rel="external">加密算法</a>和加密<a href="http://baike.baidu.com/view/934.htm" target="_blank" rel="external">密钥</a>将明文转变为密文，而解密则是通过解密算法和解密密钥将密文恢复为明文。它的核心是密码学。</p>
<p>数据加密目前仍是<a href="http://baike.baidu.com/view/1130583.htm" target="_blank" rel="external">计算机系统</a>对信息进行保护的一种最可靠的办法。它利用<a href="http://baike.baidu.com/view/391036.htm" target="_blank" rel="external">密码技术</a>对信息进行加密，实现<a href="http://baike.baidu.com/view/431307.htm" target="_blank" rel="external">信息隐蔽</a>，从而起到保护信息的安全的作用。 </p>
<h2 id="常见加密方式"><a href="#常见加密方式" class="headerlink" title="常见加密方式"></a>常见加密方式</h2><h3 id="1-Base64加密方式-可逆"><a href="#1-Base64加密方式-可逆" class="headerlink" title="1  Base64加密方式(可逆)"></a>1  Base64加密方式(可逆)</h3><h4 id="什么是Base64"><a href="#什么是Base64" class="headerlink" title="什么是Base64"></a><strong>什么是Base64</strong></h4><p>Base64编码可以成为密码学的基石。可以将任意的二进制数据进行Base64编码。所有的数据都能被编码为并只用65个字符就能表示的文本文件。（ 65字符：A~Z a~z 0~9 + / = ）等号“=”用来作为后缀用途。编码后的数据~=编码前数据的4/3，会大1/3左右。</p>
<h4 id="在bash中使用Base64"><a href="#在bash中使用Base64" class="headerlink" title="在bash中使用Base64:"></a><strong>在bash中使用Base64:</strong></h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">base64 需要加密的文件 -o 加密后的文件 <span class="comment">#加密过程</span></div><div class="line">base64 加密后的文件 -o 解密后的文件 -D <span class="comment">#解密过程</span></div></pre></td></tr></table></figure>
<h4 id="Base64编码原理"><a href="#Base64编码原理" class="headerlink" title="Base64编码原理"></a><strong>Base64编码原理</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">a.将所有字符转化为ASCII码； </div><div class="line"></div><div class="line">b.将ASCII码转化为8位二进制； </div><div class="line"></div><div class="line">c.将二进制3个归成一组(不足3个在后边补0)共24位，再拆分成4组，每组6位； </div><div class="line"></div><div class="line">d.统一在6位二进制前补两个0凑足8位； </div><div class="line"></div><div class="line">e.将补0后的二进制转为十进制； </div><div class="line"></div><div class="line">f.从Base64编码表获取十进制对应的Base64编码；</div></pre></td></tr></table></figure>
<h4 id="Base64编码的说明"><a href="#Base64编码的说明" class="headerlink" title="Base64编码的说明"></a><strong>Base64编码的说明</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">a.转换的时候，将三个byte的数据，先后放入一个24bit的缓冲区中，先来的byte占高位。 </div><div class="line"></div><div class="line">b.数据不足3byte的话，于缓冲区中剩下的bit用0补足。然后，每次取出6个bit，按照其值选择查表选择对应的字符作为编码后的输出。 </div><div class="line"></div><div class="line">c.不断进行，直到全部输入数据转换完成。 </div><div class="line"></div><div class="line">d.如果最后剩下两个输入数据，在编码结果后加1个“=”； </div><div class="line"></div><div class="line">e.如果最后剩下一个输入数据，编码结果后加2个“=”； </div><div class="line"></div><div class="line">f.如果没有剩下任何数据，就什么都不要加，这样才可以保证资料还原的正确性。</div></pre></td></tr></table></figure>
<h3 id="2-散列函数"><a href="#2-散列函数" class="headerlink" title="2 散列函数"></a>2 散列函数</h3><h4 id="散列函数："><a href="#散列函数：" class="headerlink" title="散列函数："></a>散列函数：</h4><p><strong>散列函数</strong>（或<strong>散列算法</strong>，又称<strong>哈希函数</strong>，英语：Hash Function）是一种从任何一种数据中创建小的数字“指纹”的方法。散列函数把消息或数据压缩成摘要，使得数据量变小，将数据的格式固定下来。该<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0" target="_blank" rel="external">函数</a>将数据打乱混合，重新创建一个叫做<strong>散列值</strong>（hash values，hash codes，hash sums，或hashes）的指纹。散列值通常用一个短的随机字母和数字组成的字符串来代表。好的散列函数在输入域中很少出现<a href="https://zh.wikipedia.org/w/index.php?title=%E6%95%A3%E5%88%97%E5%86%B2%E7%AA%81&amp;action=edit&amp;redlink=1" target="_blank" rel="external">散列冲突</a>。在<a href="https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97%E8%A1%A8" target="_blank" rel="external">散列表</a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86&amp;action=edit&amp;redlink=1" target="_blank" rel="external">数据处理</a>中，不抑制冲突来区别数据，会使得<a href="https://zh.wikipedia.org/w/index.php?title=%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%B0%E5%BD%95&amp;action=edit&amp;redlink=1" target="_blank" rel="external">数据库记录</a>更难找到。</p>
<h4 id="单向散列函数："><a href="#单向散列函数：" class="headerlink" title="单向散列函数："></a>单向散列函数：</h4><p>如果两个散列值是不相同的（根据同一函数），那么这两个散列值的原始输入也是不相同的。这个特性是散列函数具有<a href="https://zh.wikipedia.org/wiki/%E7%A1%AE%E5%AE%9A%E6%80%A7" target="_blank" rel="external">确定性</a>的结果，具有这种性质的散列函数称为单向散列函数。</p>
<h4 id="哈希碰撞："><a href="#哈希碰撞：" class="headerlink" title="哈希碰撞："></a>哈希碰撞：</h4><p>另一方面，散列函数的输入和输出不是唯一对应关系的，如果两个散列值相同，两个输入值很可能是相同的，但也可能不同，这种情况称为“哈希碰撞”，这通常是两个不同长度的输入值，刻意计算出相同的输出值。</p>
<h4 id="密码散列函数："><a href="#密码散列函数：" class="headerlink" title="密码散列函数："></a>密码散列函数：</h4><p><strong>密码散列函数</strong>（英语：Cryptographic hash function），又译为<strong>加密散列函数</strong>、<strong>密码散列函数</strong>、<strong>加密散列函数</strong>，是<a href="https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B8" target="_blank" rel="external">散列函数</a>的一种。它被认为是一种<a href="https://zh.wikipedia.org/wiki/%E5%96%AE%E5%90%91%E5%87%BD%E6%95%B8" target="_blank" rel="external">单向函数</a>，也就是说极其难以由散列函数输出的结果，回推输入的数据是什么。这样的单向函数被称为“现代密码学的驮马”。<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E9%9B%9C%E6%B9%8A%E5%87%BD%E6%95%B8#cite_note-1" target="_blank" rel="external">[1]</a>这种散列函数的输入数据，通常被称为<strong>消息</strong>（message），而它的输出结果，经常被称为<strong>消息摘要</strong>（message digest）或<strong>摘要</strong>（digest）。</p>
<p>一个理想的密码散列函数应该有四个主要的特性：</p>
<ul>
<li>对于任何一个给定的消息，它都很容易就能运算出散列数值</li>
<li><a href="https://zh.wikipedia.org/wiki/%E8%A8%88%E7%AE%97%E8%A4%87%E9%9B%9C%E6%80%A7%E7%90%86%E8%AB%96" target="_blank" rel="external">难以</a>由一个已知的散列数值，去推算出原始的消息</li>
<li>在不更动散列数值的前提下，修改消息内容是不可行的</li>
<li>对于两个不同的消息，它不能给与相同的散列数值</li>
</ul>
<p><img src="http://wx3.sinaimg.cn/mw1024/6aae3cf3ly1fdfvfa72vwj20hs0cwq4m.jpg" alt=""></p>
<p>一个工作中的密码散列函数 (特定的, <a href="https://zh.wikipedia.org/wiki/SHA-1" target="_blank" rel="external">SHA-1</a>)。注意，源输入再微小的变化（“over”这个词）也会使所产生的输出发生急剧变化，通过所谓的<a href="https://zh.wikipedia.org/wiki/%E9%9B%AA%E5%B4%A9%E6%95%88%E5%BA%94_(%E5%AF%86%E7%A0%81%E5%AD%A6" target="_blank" rel="external">雪崩效应</a>)的原理。</p>
<h3 id="3-碰撞（计算机科学）"><a href="#3-碰撞（计算机科学）" class="headerlink" title="3 碰撞（计算机科学）"></a>3 碰撞（计算机科学）</h3><h4 id="碰撞："><a href="#碰撞：" class="headerlink" title="碰撞："></a>碰撞：</h4><p>在计算机科学中，碰撞或冲突是指两个不同的元素具有相同的<a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%B8%8C%E5%80%BC" target="_blank" rel="external">哈希值</a>，<a href="https://zh.wikipedia.org/wiki/%E6%A0%A1%E9%AA%8C%E5%92%8C" target="_blank" rel="external">校验和</a>，数字指纹时发生的情况。当数据量足够多（例如将所有可能的人名和计算机文件名映射到一段字符上）时，碰撞是不可避免的。这仅仅是<a href="https://zh.wikipedia.org/wiki/%E9%B4%BF%E5%B7%A2%E5%8E%9F%E7%90%86" target="_blank" rel="external">鸽巢原理</a>的一个实例。</p>
<h3 id="4-消息认证码"><a href="#4-消息认证码" class="headerlink" title="4 消息认证码"></a>4 消息认证码</h3><p>在<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E5%AD%B8" target="_blank" rel="external">密码学</a>中，<strong>消息认证码</strong>（英语：Message authentication code，缩写为MAC），又译为<strong>消息鉴别码</strong>、<strong>文件消息认证码</strong>、<strong>讯息鉴别码</strong>、<strong>信息认证码</strong>，是经过特定算法后产生的一小段信息，检查某段消息的<a href="https://zh.wikipedia.org/wiki/%E5%AE%8C%E6%95%B4%E6%80%A7" target="_blank" rel="external">完整性</a>，以及作<a href="https://zh.wikipedia.org/wiki/%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81" target="_blank" rel="external">身份验证</a>。它可以用来检查在消息传递过程中，其内容是否被更改过，不管更改的原因是来自意外或是蓄意攻击。同时可以作为消息来源的<a href="https://zh.wikipedia.org/wiki/%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81" target="_blank" rel="external">身份验证</a>，确认消息的来源。</p>
<p>消息认证码的算法中，通常会使用<a href="https://zh.wikipedia.org/wiki/%E9%87%91%E9%91%B0%E9%9B%9C%E6%B9%8A%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC" target="_blank" rel="external">带密钥的散列函数（HMAC）</a>，或者块密码的带认证工作模式（如CBC-MAC）。</p>
<p>信息鉴别码不能提供对信息的保密，若要同时实现保密认证，同时需要对信息进行加密。</p>
<h3 id="5-彩虹表"><a href="#5-彩虹表" class="headerlink" title="5 彩虹表"></a>5 彩虹表</h3><p><strong>彩虹表</strong>是一个用于<a href="https://zh.wikipedia.org/wiki/%E5%8A%A0%E5%AF%86%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0" target="_blank" rel="external">加密散列函数</a>逆运算的<a href="https://zh.wikipedia.org/w/index.php?title=%E9%A2%84%E5%85%88%E8%AE%A1%E7%AE%97&amp;action=edit&amp;redlink=1" target="_blank" rel="external">预先计算</a>好的<a href="https://zh.wikipedia.org/wiki/%E6%9F%A5%E6%89%BE%E8%A1%A8" target="_blank" rel="external">表</a>，常用于破解加密过的密码散列。 查找表常常用于包含有限字符固定长度<a href="https://zh.wikipedia.org/w/index.php?title=%E7%BA%AF%E6%96%87%E6%9C%AC&amp;action=edit&amp;redlink=1" target="_blank" rel="external">纯文本</a><a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81" target="_blank" rel="external">密码</a>的加密。这是<a href="https://zh.wikipedia.org/wiki/%E4%BB%A5%E7%A9%BA%E9%96%93%E6%8F%9B%E6%99%82%E9%96%93" target="_blank" rel="external">以空间换时间</a>的典型实践，在每一次尝试都计算的暴力破解中使用更少的计算能力和更多的储存空间，但却比简单的每个输入一条散列的翻查表使用更少的储存空间和更多的计算性能。使用<a href="https://zh.wikipedia.org/wiki/%E7%9B%90_(%E5%AF%86%E7%A0%81%E5%AD%A6" target="_blank" rel="external">加盐</a>)的<a href="https://zh.wikipedia.org/w/index.php?title=KDF%E5%87%BD%E6%95%B0&amp;action=edit&amp;redlink=1" target="_blank" rel="external">KDF函数</a>可以使这种攻击难以实现。</p>
<h3 id="6-暴力破解法"><a href="#6-暴力破解法" class="headerlink" title="6 暴力破解法"></a>6 暴力破解法</h3><h4 id="暴力破解法"><a href="#暴力破解法" class="headerlink" title="暴力破解法"></a>暴力破解法</h4><p><strong>暴力破解法</strong>，或称为<strong>穷举法</strong>，是一种<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%88%86%E6%9E%90" target="_blank" rel="external">密码分析</a>的方法，即将密码进行逐个推算直到找出真正的密码为止。例如一个已知是四位并且全部由<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%97" target="_blank" rel="external">数字</a>组成的密码，其可能共有10000种组合，因此最多尝试9999次就能找到正确的密码。理论上除了具有<a href="https://zh.wikipedia.org/wiki/%E5%AE%8C%E5%96%84%E4%BF%9D%E5%AF%86%E6%80%A7" target="_blank" rel="external">完善保密性</a>的密码以外，利用这种方法可以破解任何一种密码，问题只在于如何缩短试误时间。有些人运用<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA" target="_blank" rel="external">计算机</a>来增加效率，有些人辅以<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E5%85%B8" target="_blank" rel="external">字典</a>来缩小密码组合的范围。</p>
<h4 id="防护手段"><a href="#防护手段" class="headerlink" title="防护手段"></a>防护手段</h4><p>最重要的手段是在构建系统时要将系统设计目标定为即便受到暴力破解的攻击也难以被攻破。以下列举了一些常用的防护手段：</p>
<ul>
<li>增加密码的长度与复杂度</li>
<li>在系统中限制密码试错的次数</li>
<li>密码验证时，将验证结果不是立即返回而是延时若干秒后返回。</li>
<li>限制允许发起请求的客户端的范围</li>
<li>禁止密码输入频率过高的请求</li>
<li>将密码设置为类似<a href="https://zh.wikipedia.org/wiki/%E5%AE%89%E5%85%A8%E4%BB%A4%E7%89%8C" target="_blank" rel="external">安全令牌</a>那样每隔一定时间就发生变化的形式</li>
<li>当同一来源的密码输入出错次数超过一定阈值，立即通过邮件/短信等方式通知系统管理员</li>
<li>人为监视系统，确认有无异常的密码试错。</li>
</ul>
<h3 id="7-MD5加密"><a href="#7-MD5加密" class="headerlink" title="7 MD5加密"></a>7 MD5加密</h3><h4 id="MD5："><a href="#MD5：" class="headerlink" title="MD5："></a>MD5：</h4><p><strong>MD5消息摘要算法</strong>（英语：MD5 Message-Digest Algorithm），一种被广泛使用的<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E9%9B%9C%E6%B9%8A%E5%87%BD%E6%95%B8" target="_blank" rel="external">密码散列函数</a>，可以产生出一个128位（16<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82" target="_blank" rel="external">字节</a>）的散列值（hash value），用于确保信息传输完整一致。MD5由<a href="https://zh.wikipedia.org/wiki/%E7%BD%97%E7%BA%B3%E5%BE%B7%C2%B7%E6%9D%8E%E7%BB%B4%E6%96%AF%E7%89%B9" target="_blank" rel="external">罗纳德·李维斯特</a>设计，于1992年公开，用以替换<a href="https://zh.wikipedia.org/wiki/MD4" target="_blank" rel="external">MD4</a>算法。这套算法的程序在 <a href="https://tools.ietf.org/html/rfc1321" target="_blank" rel="external">RFC 1321</a> 中被加以规范。</p>
<p>1996年后被证实存在弱点，可以被加以破解，对于需要高度安全性的数据，专家一般建议改用其他算法，如<a href="https://zh.wikipedia.org/wiki/SHA-1" target="_blank" rel="external">SHA-1</a>。2004年，证实MD5算法无法防止碰撞，因此无法适用于安全性认证，如<a href="https://zh.wikipedia.org/wiki/SSL" target="_blank" rel="external">SSL</a><a href="https://zh.wikipedia.org/wiki/%E5%85%AC%E9%96%8B%E9%87%91%E9%91%B0%E8%AA%8D%E8%AD%89" target="_blank" rel="external">公开密钥认证</a>或是<a href="https://zh.wikipedia.org/wiki/%E6%95%B8%E4%BD%8D%E7%B0%BD%E7%AB%A0" target="_blank" rel="external">数字签名</a>等用途。</p>
<h4 id="应用："><a href="#应用：" class="headerlink" title="应用："></a>应用：</h4><p>MD5已经广泛使用在为文件传输提供一定的可靠性方面。例如，服务器预先提供一个MD5校验和，用户下载完文件以后，用MD5算法计算下载文件的MD5校验和，然后通过检查这两个校验和是否一致，就能判断下载的文件是否出错。如在一些<a href="https://zh.wikipedia.org/wiki/BitTorrent" target="_blank" rel="external">BitTorrent</a>下载中，软件将通过计算MD5检验下载到的文件片段的完整性。</p>
<p>MD5亦有应用于部分网上赌场以保证赌博的公平性，原理是系统先在玩家下注前已生成该局的结果，将该结果的字符串配合一组随机字符串利用MD5 加密，将该加密字符串于玩家下注前便显示给玩家，再在结果开出后将未加密的字符串显示给玩家，玩家便可利用MD5工具加密验证该字符串是否吻合。</p>
<p>例子: 在玩家下注骰宝前，赌场便先决定该局结果，假设生成的随机结果为4、5、 6大，赌场便会先利用MD5 加密“4, 5, 6”此字符串并于玩家下注前告诉玩家；由于赌场是无法预计玩家会下什么注，所以便能确保赌场不能作弊；当玩家下注完毕后，赌场便告诉玩家该原始字符串，即“4, 5, 6”，玩家便可利用MD5工具加密该字符串是否与下注前的加密字符串吻合。</p>
<p>该字符串一般会加上一组随机字符串 (Random string)，以防止玩家利用碰撞 (Collision) 解密字符串，但如使用超级电脑利用碰撞亦有可能从加上随机字符串的加密字符串中获取游戏结果。随机字符串的长度与碰撞的次数成正比关系，一般网上赌场使用的随机字符串是长于20字，有些网上赌场的随机字符串更长达500字，以增加解密难度。</p>
<h4 id="算法："><a href="#算法：" class="headerlink" title="算法："></a>算法：</h4><p>MD5是输入不定长度信息，输出固定长度128-bits的算法。经过程序流程，生成四个32位数据，最后联合起来成为一个128-bits<a href="https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97" target="_blank" rel="external">散列</a>。基本方式为，求余、取余、调整长度、与链接变量进行循环运算。得出结果。</p>
<h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><ol>
<li>压缩性：任意长度的数据，算出的MD5值长度都是固定的(32位)。</li>
<li>容易计算：从原数据计算出MD5值很容易。</li>
<li>抗修改性：对原数据进行任何改动，哪怕只修改1个字节，所得到的MD5值都有很大区别。</li>
<li>强抗碰撞：已知原数据和其MD5值，想找到一个具有相同MD5值的数据（即伪造数据）是非常困难的（但也会被碰撞）。</li>
</ol>
<h4 id="bash中使用MD5"><a href="#bash中使用MD5" class="headerlink" title="bash中使用MD5"></a>bash中使用MD5</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">md5 <span class="_">-s</span> <span class="string">"需要md5加密的字符串"</span> <span class="comment">#md5加密字符串</span></div><div class="line">md5 文件 <span class="comment">#md5加密文件</span></div></pre></td></tr></table></figure>
<h4 id="缺陷："><a href="#缺陷：" class="headerlink" title="缺陷："></a>缺陷：</h4><p>2009年<a href="https://zh.wikipedia.org/wiki/%E8%AC%9D%E6%BF%A4" target="_blank" rel="external">谢涛</a>和冯登国仅用了220.96的碰撞算法复杂度，破解了MD5的<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A2%B0%E6%92%9E%E6%8A%B5%E6%8A%97&amp;action=edit&amp;redlink=1" target="_blank" rel="external">碰撞抵抗</a>，该攻击在普通计算机上运行只需要数秒钟。</p>
<h3 id="8-盐-密码学"><a href="#8-盐-密码学" class="headerlink" title="8 盐(密码学)"></a>8 盐(密码学)</h3><h4 id="加盐："><a href="#加盐：" class="headerlink" title="加盐："></a>加盐：</h4><p><strong>盐</strong>（Salt），在<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6" target="_blank" rel="external">密码学</a>中，是指通过在密码任意固定位置插入特定的字符串，让散列后的结果和使用原始密码的散列结果不相符，这种过程称之为“加盐”。</p>
<h4 id="为什么加盐："><a href="#为什么加盐：" class="headerlink" title="为什么加盐："></a>为什么加盐：</h4><p>通常情况下，当字段经过散列处理（如<a href="https://zh.wikipedia.org/wiki/MD5" target="_blank" rel="external">MD5</a>），会生成一段散列值，而散列后的值一般是无法通过特定算法得到原始字段的。但是某些情况，比如一个大型的<a href="https://zh.wikipedia.org/wiki/%E5%BD%A9%E8%99%B9%E8%A1%A8" target="_blank" rel="external">彩虹表</a>，通过在表中搜索该MD5值，很有可能在极短的时间内找到该散列值对应的真实字段内容。</p>
<p>加盐后的散列值，可以极大的降低由于用户数据被盗而带来的密码泄漏风险，即使通过彩虹表寻找到了散列后的数值所对应的原始内容，但是由于经过了加盐，插入的字符串扰乱了真正的密码，使得获得真实密码的概率大大降低。</p>
<h4 id="实现原理："><a href="#实现原理：" class="headerlink" title="实现原理："></a>实现原理：</h4><p>加盐的实现过程通常是在需要散列的字段的特定位置增加特定的字符，打乱原始的字符串，使其生成的散列结果产生变化。比如，用户使用了一个密码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x7faqgjw</div></pre></td></tr></table></figure>
<p>经过MD5散列后，可以得出结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">455e0e5c2bc109deae749e7ce0cdd397</div></pre></td></tr></table></figure>
<p>但是由于用户密码位数不足，短密码的散列结果很容易被<a href="https://zh.wikipedia.org/wiki/%E5%BD%A9%E8%99%B9%E8%A1%A8" target="_blank" rel="external">彩虹表</a>破解，因此，在用户的密码末尾添加特定字符串（括号内的字体为加盐的字段）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x7faqgjw(abcdefghijklmnopqrstuvwxyz)</div></pre></td></tr></table></figure>
<p>因此，加盐后的密码位数更长了，散列的结果也发生了变化：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4a1690d5eb6c126ef68606dda68c2f79</div></pre></td></tr></table></figure>
<p>以上就是加盐过程的简单描述，在实际使用过程中，还需要通过特定位数插入、倒序或多种方法对原始密码进行固定的加盐处理，使得散列的结果更加不容易被破解或轻易得到原始密码，比如（括号内的字体为加盐字符串）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x7(a)fa(b)qg(c)jw</div></pre></td></tr></table></figure>
<h3 id="9-十六进制"><a href="#9-十六进制" class="headerlink" title="9 十六进制"></a>9 十六进制</h3><p><strong>十六进制</strong>（简写为<em>hex</em>或下标16）在<a href="https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6" target="_blank" rel="external">数学</a>中是一种逢16进1的<a href="https://zh.wikipedia.org/wiki/%E8%BF%9B%E4%BD%8D%E5%88%B6" target="_blank" rel="external">进位制</a>。一般用数字0到9和字母A到F（或a~f）表示，其中:A~F表示10~15，这些称作<strong>十六进制数字</strong>。</p>
<h3 id="10-SHA-1"><a href="#10-SHA-1" class="headerlink" title="10 SHA-1"></a>10 SHA-1</h3><p><strong>SHA-1</strong>（英语：Secure Hash Algorithm 1，中文名：安全散列算法1）是一种<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0" target="_blank" rel="external">密码散列函数</a>，<a href="https://zh.wikipedia.org/wiki/%E7%BE%8E%E5%9B%BD%E5%9B%BD%E5%AE%B6%E5%AE%89%E5%85%A8%E5%B1%80" target="_blank" rel="external">美国国家安全局</a>设计，并由美国<a href="https://zh.wikipedia.org/wiki/%E5%9C%8B%E5%AE%B6%E6%A8%99%E6%BA%96%E6%8A%80%E8%A1%93%E7%A0%94%E7%A9%B6%E6%89%80" target="_blank" rel="external">国家标准技术研究所</a>（NIST）发布为<a href="https://zh.wikipedia.org/wiki/%E8%81%AF%E9%82%A6%E8%B3%87%E6%96%99%E8%99%95%E7%90%86%E6%A8%99%E6%BA%96" target="_blank" rel="external">联邦数据处理标准</a>（FIPS）<a href="https://zh.wikipedia.org/wiki/SHA-1#cite_note-:0-2" target="_blank" rel="external">[2]</a>。SHA-1可以生成一个被称为消息摘要的160<a href="https://zh.wikipedia.org/wiki/%E4%BD%8D" target="_blank" rel="external">位</a>（20<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82" target="_blank" rel="external">字节</a>）散列值，散列值通常的呈现形式为40个<a href="https://zh.wikipedia.org/wiki/%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6" target="_blank" rel="external">十六进制</a>数。(现已经被破解，可碰撞)</p>
<h3 id="11-钥匙串加密方式"><a href="#11-钥匙串加密方式" class="headerlink" title="11 钥匙串加密方式"></a>11 钥匙串加密方式</h3><p>iCloud钥匙串,苹果给我们提供的密码保存的解决方案,iOS7之后有的</p>
<p>存沙盒：</p>
<p>1、如果手机越狱，密码容易被窃取。</p>
<p>2、当软件更新时，沙盒里的内容是不被删除的。但是，如果将软件卸载后重装，沙盒里的数据就没有了。</p>
<p>3、每个APP的沙盒是相对独立的，密码无法共用。</p>
<p>存钥匙串里：</p>
<p>1、苹果提供的安全方案，rsa加密，相对安全。</p>
<p>2、无论软件更新或删除，密码都存在，都可以自动登录。</p>
<p>3、同一公司的APP密码是可以共用的。</p>
<h3 id="12-对称加密算法"><a href="#12-对称加密算法" class="headerlink" title="12 对称加密算法"></a>12 对称加密算法</h3><p>优点：算法公开、计算量小、加密速度快、加密效率高、可逆</p>
<p>缺点：双方使用相同钥匙，安全性得不到保证</p>
<p>现状：对称加密的速度比公钥加密快很多，在很多场合都需要对称加密，</p>
<p>算法: 在对称加密算法中常用的算法有：<a href="http://baike.baidu.com/view/7510.htm" target="_blank" rel="external">DES</a>、<a href="http://baike.baidu.com/view/350958.htm" target="_blank" rel="external">3DES</a>、TDEA、<a href="http://baike.baidu.com/view/2208941.htm" target="_blank" rel="external">Blowfish</a>、RC2、RC4、<a href="http://baike.baidu.com/view/734720.htm" target="_blank" rel="external">RC5</a>、<a href="http://baike.baidu.com/view/92629.htm" target="_blank" rel="external">IDEA</a>、SKIPJACK、AES等。不同算法的实现机制不同，可参考对应算法的详细资料</p>
<p>相较于DES和3DES算法而言，AES算法有着更高的速度和资源使用效率，安全级别也较之更高了，被称为下一代加密标准</p>
<p>nECB ：电子代码本，就是说每个块都是独立加密的</p>
<p>nCBC ：密码块链，使用一个密钥和一个初始化向量 (IV)对数据执行加密转换</p>
<p>ECB和CBC区别：CBC更加复杂更加安全，里面加入了8位的向量（8个0的话结果等于ECB）。在明文里面改一个字母，ECB密文对应的那一行会改变，CBC密文从那一行往后都会改变。</p>
<p><img src="http://wx4.sinaimg.cn/mw1024/6aae3cf3ly1fdfu3mtjaxj212i0fuaeb.jpg" alt=""></p>
<h3 id="13-RSA加密-非对称加密算法-Secruty-framework系统库"><a href="#13-RSA加密-非对称加密算法-Secruty-framework系统库" class="headerlink" title="13 RSA加密(非对称加密算法)(Secruty.framework系统库)"></a>13 RSA加密(非对称加密算法)(Secruty.framework系统库)</h3><p>非对称加密算法需要两个密钥：公开密钥（publickey）和私有密钥（privatekey）</p>
<p>非对称加密中使用的主要算法有：<a href="http://baike.baidu.com/view/7520.htm" target="_blank" rel="external">RSA</a>、<a href="http://baike.baidu.com/view/2154827.htm" target="_blank" rel="external">Elgamal</a>、背包算法、Rabin、D-H、<a href="http://baike.baidu.com/view/46554.htm" target="_blank" rel="external">ECC</a>（椭圆曲线加密算法）等。</p>
<p>公开密钥与私有密钥是一对，如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密；如果用私有密钥对数据进行加密，那么只有用对应的公开密钥才能解密</p>
<p>特点：</p>
<p>非对称密码体制的特点：算法强度复杂、安全性依赖于算法与密钥但是由于其算法复杂，而使得加密解密速度没有对称加密解密的速度快</p>
<p>对称密码体制中只有一种密钥，并且是非公开的，如果要解密就得让对方知道密钥。所以保证其安全性就是保证密钥的安全，而非对称密钥体制有两种密钥，其中一个是公开的，这样就可以不需要像对称密码那样传输对方的密钥了</p>
<p>但是RSA加密算法效率较差，对大型数据加密时间很长，一般用于小数据。</p>
<p><img src="http://wx4.sinaimg.cn/mw1024/6aae3cf3ly1fdfu3n2tsgj214g0f8gqi.jpg" alt=""></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key=""
        data-url="https://stanxia.github.io/2017/03/08/几种常见的加密方式/"
        data-title="几种常见的加密方式">
    </div>
    <!-- 多说评论框 end -->
</div>





                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/09/26/面试题集锦/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/03/07/Alibaba代码规范/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="夏's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        xooglexls@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
            主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->
    <!--
    <li class="dropdown">
        <a href="" target="_self">
            <i class="material-icons sidebar-material-icons">explore</i>
             sidebar.imlucky
        </a>
    </li>
    -->

    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">23</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">6</span></a>
        </ul>
    </li>

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/java/">java<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/大数据/">大数据<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/大数据案例/">大数据案例<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/技术向/">技术向<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/折腾/">折腾<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/漫画/">漫画<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/生活/">生活<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/电影/">电影<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/问题集锦/">问题集锦<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/集群搭建/">集群搭建<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/面试题/">面试题<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
    

    <!-- Divider -->
    <li class="divider"></li>


    <!-- Pages  -->
  	
        <li>
            <a href="/aboutme/" title="Astan">
                
                Astan
            </a>
        </li>
  	
        <li>
            <a href="/tags/" title="标签索引">
                
                标签索引
            </a>
        </li>
  	
        <li>
            <a href="/guestbook/" title="壮士请留步">
                
                壮士请留步
            </a>
        </li>
  	
        <li>
            <a href="/links" title="hadoop一家">
                
                hadoop一家
            </a>
        </li>
  	
        <li>
            <a href="/gallery" title="邓紫棋">
                
                邓紫棋
            </a>
        </li>
  	

    <!-- Article Numebr  -->
    <li>
        <a href="/archives">
            文章总数
            <span class="sidebar-badge">36</span>
        </a>
    </li>
</ul>


        <!-- Sidebar Divider -->
        <div class="sidebar-divider"></div>

        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Theme Material -->
<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        主题 - Material
        <span class="sidebar-badge badge-circle">i</span>
    </div>
</a>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
    sidebar.help
    <span class="mdl-button__ripple-container">
      <span class="mdl-ripple"></span>
    </span>
  </div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->
<!--
<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

    </div>

    <!-- Sidebar Sponsor -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.png);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/profile.php?id=100014686742374" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.png);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-gplus.png);">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/u/1789803763/home?leftnav=1" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.png);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;小世界，大梦想
          <div>
		<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		<div>
		本站总访问量 <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp&nbsp
		你是第<span id="busuanzi_value_site_uv"></span>个来到的小伙伴
		</div>
	</div>
        </div>

        <!-- Paradox Footer Right Section -->
        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
         

	</div>
    
</footer>


                    <!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();

    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });

    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>





    <!-- Leancloud -->
    <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
    <script>
        AV.initialize("f8AHUn2FOKCWoFzJTLrnSt4A-gzGzoHsz", "dOlRTKgDWf3Ut87VDHex4Wks");
    </script>
    <script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $('.leancloud-views_num').each(function() {
            var url = $(this).attr('id').trim();
            query.equalTo('url', url);
            query.find({
                success: function(results) {
                    if (results.length === 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log('Error: ' + error.code + ' ' + error.message);
                }
            });
        });
    }

    function addCount(Counter) {
      var Counter = AV.Object.extend('Counter');
      url = $('.leancloud-views_num').attr('id').trim();
      title = $('.leancloud-views_num').attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find({
          success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment('time');
                counter.save(null, {
                    success: function(counter) {
                        var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
              var newcounter = new Counter();
              newcounter.set('title', title);
              newcounter.set('url', url);
              newcounter.set('time', 1);
              newcounter.save(null, {
                  success: function(newcounter) {
                      console.log('newcounter.get(\'time\')='+newcounter.get('time'));
                      var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                      $(document.getElementById(url)).text(content);
                  },
                  error: function(newcounter, error) {
                      console.log('Failed to create');
                  }
              });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + ' ' + error.message);
        }
      });
    }
    $(function() {
        var Counter = AV.Object.extend('Counter');
        if ($('.leancloud-views_num').length === 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>






    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        var duoshuoQuery = {
            short_name: 'stanxia'
        };
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';
            ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title != '' && data_content != '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content +'...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
